"use strict";(self.webpackChunkmemos=self.webpackChunkmemos||[]).push([[297],{8297:(B,l,a)=>{a.r(l),a.d(l,{FlowComponent:()=>U});var s=a(6814),p=a(2181),n=a(4946);function _(t,o){if(1&t&&(n.TgZ(0,"h4"),n._uU(1),n.qZA()),2&t){const e=n.oxw();n.xp6(1),n.Oqu(e.section.heading)}}function g(t,o){if(1&t&&n._UZ(0,"p",6),2&t){const e=o.$implicit,i=n.oxw(2);n.Q6J("ngClass",i.paragraphClass())("innerHTML",e,n.oJD)}}function f(t,o){if(1&t&&(n.ynx(0),n.YNc(1,g,1,2,"p",5),n.BQk()),2&t){const e=n.oxw();n.xp6(1),n.Q6J("ngForOf",e.section.content)}}function d(t,o){if(1&t&&(n.TgZ(0,"th"),n._uU(1),n.qZA()),2&t){const e=o.$implicit;n.xp6(1),n.Oqu(e)}}function m(t,o){if(1&t&&(n.ynx(0),n.YNc(1,d,2,1,"th",7),n.BQk()),2&t){const e=n.oxw().$implicit;n.xp6(1),n.Q6J("ngForOf",e)}}function u(t,o){if(1&t&&(n.TgZ(0,"td",11),n._uU(1),n.qZA()),2&t){const e=o.$implicit,i=n.oxw(4);n.Q6J("ngClass",i.paragraphClass()),n.xp6(1),n.hij(" ",e," ")}}function x(t,o){if(1&t&&n.YNc(0,u,2,2,"td",10),2&t){const e=n.oxw().$implicit;n.Q6J("ngForOf",e)}}function C(t,o){if(1&t&&(n.TgZ(0,"tr"),n.YNc(1,m,2,1,"ng-container",8),n.YNc(2,x,1,1,"ng-template",null,9,n.W1O),n.qZA()),2&t){const e=o.index,i=n.MAs(3);n.xp6(1),n.Q6J("ngIf",0===e)("ngIfElse",i)}}function w(t,o){if(1&t&&(n.ynx(0),n.TgZ(1,"table"),n.YNc(2,C,4,2,"tr",7),n.qZA(),n.BQk()),2&t){const e=n.oxw();n.xp6(2),n.Q6J("ngForOf",e.section.content)}}function h(t,o){if(1&t&&n._UZ(0,"li",6),2&t){const e=o.$implicit,i=n.oxw(2);n.Q6J("ngClass",i.paragraphClass())("innerHTML",e,n.oJD)}}function b(t,o){if(1&t&&(n.ynx(0),n.TgZ(1,"ul"),n.YNc(2,h,1,2,"li",5),n.qZA(),n.BQk()),2&t){const e=n.oxw();n.xp6(2),n.Q6J("ngForOf",e.section.content)}}function T(t,o){if(1&t&&n._UZ(0,"li",6),2&t){const e=o.$implicit,i=n.oxw(2);n.Q6J("ngClass",i.paragraphClass())("innerHTML",e,n.oJD)}}function k(t,o){if(1&t&&(n.ynx(0),n.TgZ(1,"ol"),n.YNc(2,T,1,2,"li",5),n.qZA(),n.BQk()),2&t){const e=n.oxw();n.xp6(2),n.Q6J("ngForOf",e.section.content)}}function v(t,o){1&t&&n._UZ(0,"span",13),2&t&&n.Q6J("innerHTML",o.$implicit,n.oJD)}function Z(t,o){if(1&t&&(n.ynx(0),n.TgZ(1,"div",11),n.YNc(2,v,1,1,"span",12),n.qZA(),n.BQk()),2&t){const e=n.oxw();n.xp6(1),n.Q6J("ngClass",e.paragraphClass()),n.xp6(1),n.Q6J("ngForOf",e.section.content)}}let y=(()=>{var t;class o{constructor(){this.sectionVisible=!1}toggleVisibility(){this.sectionVisible=!this.sectionVisible}paragraphClass(){return[this.section.extraClass??"",this.sectionVisible?"":"skeleton__paragraph"].filter(c=>null!==c||void 0!==c)}}return(t=o).\u0275fac=function(i){return new(i||t)},t.\u0275cmp=n.Xpm({type:t,selectors:[["ktbz-section"]],inputs:{section:"section",sectionVisible:"sectionVisible"},standalone:!0,features:[n.jDz],decls:8,vars:6,consts:[[4,"ngIf"],[3,"click"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[3,"ngClass","innerHTML",4,"ngFor","ngForOf"],[3,"ngClass","innerHTML"],[4,"ngFor","ngForOf"],[4,"ngIf","ngIfElse"],["defaultRow",""],[3,"ngClass",4,"ngFor","ngForOf"],[3,"ngClass"],[3,"innerHTML",4,"ngFor","ngForOf"],[3,"innerHTML"]],template:function(i,c){1&i&&(n.YNc(0,_,2,1,"h4",0),n.TgZ(1,"section",1),n.NdJ("click",function(){return c.toggleVisibility()}),n.ynx(2,2),n.YNc(3,f,2,1,"ng-container",3),n.YNc(4,w,3,1,"ng-container",3),n.YNc(5,b,3,1,"ng-container",3),n.YNc(6,k,3,1,"ng-container",3),n.YNc(7,Z,3,2,"ng-container",4),n.BQk(),n.qZA()),2&i&&(n.Q6J("ngIf",c.section.heading),n.xp6(2),n.Q6J("ngSwitch",c.section.type),n.xp6(1),n.Q6J("ngSwitchCase","PARAGRAPH"),n.xp6(1),n.Q6J("ngSwitchCase","TABLE"),n.xp6(1),n.Q6J("ngSwitchCase","BULLET_LIST"),n.xp6(1),n.Q6J("ngSwitchCase","ORDERED_LIST"))},dependencies:[s.ez,s.mk,s.sg,s.O5,s.RF,s.n9,s.ED],styles:["table[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column}p[_ngcontent-%COMP%]{text-align:justify}tr[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:4px}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{width:50%}th[_ngcontent-%COMP%]{margin-bottom:8px}td[_ngcontent-%COMP%]{margin-bottom:4px}.annotation[_ngcontent-%COMP%]{margin-left:16px;display:flex;flex-direction:column}.skeleton__paragraph[_ngcontent-%COMP%]{color:#fff0;background-color:#00000016;border-radius:4px;-webkit-user-select:none;user-select:none}li[_ngcontent-%COMP%]{margin-block:2px}"],changeDetection:0}),o})();function O(t,o){if(1&t&&(n.TgZ(0,"h3"),n._uU(1),n.qZA()),2&t){const e=n.oxw(2);n.xp6(1),n.Oqu(e.questionCard.subHeading)}}function A(t,o){if(1&t&&n._UZ(0,"ktbz-section",6),2&t){const e=o.$implicit,i=n.oxw(2);n.Q6J("section",e)("sectionVisible",i.questionCard.sectionsVisible)}}function M(t,o){if(1&t&&(n.ynx(0),n.TgZ(1,"div",1)(2,"div",2)(3,"h2"),n._uU(4),n.qZA(),n.YNc(5,O,2,1,"h3",0),n.qZA(),n.TgZ(6,"div",3),n._UZ(7,"i",4),n._uU(8),n.qZA()(),n.YNc(9,A,1,2,"ktbz-section",5),n.BQk()),2&t){const e=n.oxw();n.xp6(4),n.Oqu(e.questionCard.mainHeading),n.xp6(1),n.Q6J("ngIf",e.questionCard.subHeading),n.xp6(3),n.hij(" ",e.questionCard.repLeft-1," "),n.xp6(1),n.Q6J("ngForOf",e.questionCard.sections)}}let S=(()=>{var t;class o{constructor(){}ngOnInit(){}}return(t=o).\u0275fac=function(i){return new(i||t)},t.\u0275cmp=n.Xpm({type:t,selectors:[["ktbz-step"]],inputs:{questionCard:"questionCard"},standalone:!0,features:[n.jDz],decls:1,vars:1,consts:[[4,"ngIf"],[1,"header"],[1,"headings"],[1,"repbox","mb-3"],[1,"bi","bi-file-earmark-ruled"],[3,"section","sectionVisible",4,"ngFor","ngForOf"],[3,"section","sectionVisible"]],template:function(i,c){1&i&&n.YNc(0,M,10,4,"ng-container",0),2&i&&n.Q6J("ngIf",c.questionCard)},dependencies:[s.ez,s.sg,s.O5,y],styles:[".repbox[_ngcontent-%COMP%]{display:flex;align-self:flex-start;flex-direction:row;gap:24px;justify-content:flex-end;align-items:center}.header[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:24px}.headings[_ngcontent-%COMP%]{flex-grow:1}"],changeDetection:0}),o})();var F=a(3891),Q=a(8489);function J(t,o){if(1&t&&(n.TgZ(0,"div",16),n._uU(1),n.qZA()),2&t){const e=n.oxw().ngIf;n.Udp("width",100*(e.progress.total-e.progress.left)/e.progress.total,"%"),n.xp6(1),n.AsE(" ",e.progress.total-e.progress.left," / ",e.progress.total," ")}}function q(t,o){if(1&t&&(n.TgZ(0,"span"),n._uU(1),n.qZA()),2&t){const e=o.ngIf;n.xp6(1),n.AsE("",e.min," : ",e.sec,"")}}function P(t,o){1&t&&(n.TgZ(0,"span"),n._uU(1,"00 : 00"),n.qZA())}function I(t,o){if(1&t&&(n.TgZ(0,"div",9)(1,"div",10),n.YNc(2,J,2,4,"div",11),n.qZA(),n.TgZ(3,"div",12),n._UZ(4,"i",13),n.YNc(5,q,2,2,"span",14),n.YNc(6,P,2,0,"ng-template",null,15,n.W1O),n.qZA()()),2&t){const e=o.ngIf,i=n.MAs(7);n.xp6(2),n.Q6J("ngIf",e.progress),n.xp6(3),n.Q6J("ngIf",e.timer)("ngIfElse",i)}}function N(t,o){if(1&t&&(n.TgZ(0,"div",17),n._UZ(1,"ktbz-step",18),n.qZA()),2&t){const e=o.ngIf;n.xp6(1),n.Q6J("questionCard",e)}}function D(t,o){if(1&t){const e=n.EpF();n.TgZ(0,"button",19),n.NdJ("click",function(){n.CHM(e);const c=n.oxw();return n.KtG(c.markAsWrong())}),n._UZ(1,"i",20),n.qZA()}}function Y(t,o){if(1&t){const e=n.EpF();n.TgZ(0,"button",21),n.NdJ("click",function(){n.CHM(e);const c=n.oxw();return n.KtG(c.markAsCorrect())}),n._UZ(1,"i",22),n.qZA()}}const H=function(t,o){return{progress:t,timer:o}};let U=(()=>{var t;class o{keyDownA(){this.repetitionModeActive&&this.markAsWrong()}keyDownD(){this.repetitionModeActive&&this.markAsCorrect()}keyDownSpace(){this.repetitionModeActive||this.nextQuestion()}keyDownR(){this.repetitionModeActive&&this.restart()}keyDownBackspace(){this.repetitionModeActive&&this.stop()}get repetitionModeActive(){return this.flowService.repetitionModeActive}constructor(i,c){this.flowService=i,this.router=c,this.card$=this.flowService.nextCard$.pipe((0,p.h)(r=>!!r)),this.progress$=this.flowService.progress$.pipe((0,p.h)(r=>!!r)),this.timer$=this.flowService.timer$}ngOnInit(){this.flowService.isDataFlowEmpty()&&this.router.navigateByUrl("/learning/init")}nextQuestion(){this.flowService.nextQuestion()}markAsCorrect(){this.flowService.markAsCorrect()}markAsWrong(){this.flowService.markAsBad()}restart(){this.flowService.restart()}stop(){this.flowService.stopLearning()}}return(t=o).\u0275fac=function(i){return new(i||t)(n.Y36(F.W),n.Y36(Q.F0))},t.\u0275cmp=n.Xpm({type:t,selectors:[["ktbz-flow"]],hostBindings:function(i,c){1&i&&n.NdJ("keydown.a",function(){return c.keyDownA()},!1,n.evT)("keydown.d",function(){return c.keyDownD()},!1,n.evT)("keydown.space",function(){return c.keyDownSpace()},!1,n.evT)("keydown.r",function(){return c.keyDownR()},!1,n.evT)("keydown.backspace",function(){return c.keyDownBackspace()},!1,n.evT)},standalone:!0,features:[n.jDz],decls:13,vars:13,consts:[[1,"flowWrapper"],["class","card status",4,"ngIf"],["class","card question",4,"ngIf"],[1,"card","buttons"],[1,"btn","btn-secondary",3,"click"],[1,"bi","bi-stop-fill"],[1,"bi","bi-arrow-repeat"],["class","btn btn-danger",3,"click",4,"ngIf"],["class","btn btn-success",3,"click",4,"ngIf"],[1,"card","status"],["role","progressbar","aria-label","Example with label",1,"progress"],["class","progress-bar",3,"width",4,"ngIf"],[1,"timebox","mt-2"],[1,"bi","bi-stopwatch"],[4,"ngIf","ngIfElse"],["initialTime",""],[1,"progress-bar"],[1,"card","question"],[3,"questionCard"],[1,"btn","btn-danger",3,"click"],[1,"bi","bi-chevron-double-left"],[1,"btn","btn-success",3,"click"],[1,"bi","bi-chevron-double-right"]],template:function(i,c){1&i&&(n.TgZ(0,"div",0),n.YNc(1,I,8,3,"div",1),n.ALo(2,"async"),n.ALo(3,"async"),n.YNc(4,N,2,1,"div",2),n.ALo(5,"async"),n.TgZ(6,"div",3)(7,"button",4),n.NdJ("click",function(){return c.stop()}),n._UZ(8,"i",5),n.qZA(),n.TgZ(9,"button",4),n.NdJ("click",function(){return c.restart()}),n._UZ(10,"i",6),n.qZA(),n.YNc(11,D,2,0,"button",7),n.YNc(12,Y,2,0,"button",8),n.qZA()()),2&i&&(n.xp6(1),n.Q6J("ngIf",n.WLB(10,H,n.lcZ(2,4,c.progress$),n.lcZ(3,6,c.timer$))),n.xp6(3),n.Q6J("ngIf",n.lcZ(5,8,c.card$)),n.xp6(7),n.Q6J("ngIf",c.repetitionModeActive),n.xp6(1),n.Q6J("ngIf",c.repetitionModeActive))},dependencies:[s.ez,s.O5,s.Ov,S],styles:["@media screen and (min-width: 993px){.card[_ngcontent-%COMP%]{width:992px;max-height:600px}}@media screen and (max-width: 992px){.flowWrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100dvh;gap:8px}.flowWrapper[_ngcontent-%COMP%]::-webkit-scrollbar{opacity:0;width:0}.flowWrapper[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{width:100%}.flowWrapper[_ngcontent-%COMP%]   .card.question[_ngcontent-%COMP%]{z-index:2;overflow-y:scroll;flex-grow:1}.flowWrapper[_ngcontent-%COMP%]   .card.question[_ngcontent-%COMP%]::-webkit-scrollbar{opacity:0;width:0}.flowWrapper[_ngcontent-%COMP%]   .card.buttons[_ngcontent-%COMP%]{margin:0;z-index:4;align-self:flex-end}.flowWrapper[_ngcontent-%COMP%]   .card.status[_ngcontent-%COMP%]{margin:0;align-self:flex-start;z-index:4}}.card.buttons[_ngcontent-%COMP%]{margin-top:32px;display:flex;flex-direction:row;gap:24px;padding:16px}.card.buttons[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{width:50%}.card.status[_ngcontent-%COMP%]{margin-bottom:32px;display:block;padding:16px}.card[_ngcontent-%COMP%]{padding:32px;width:1020px}.timebox[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:24px;justify-content:flex-end;align-items:center}"],changeDetection:0}),o})()}}]);